from SportxAI_Auto_Register import extract_registration
import re

def clean_text(text):
    """清除隱形字元並移除首尾空白與換行"""
    return re.sub(r'[\r\u200b]', '', text).strip()

def test():
    for i in range(len(messages.name)):
        raw_input = messages.messages[i]
        raw_answer = messages.answer[i]

        # 呼叫函式取出原始輸出
        output = extract_registration(raw_input)

        # 清理後的輸出與答案
        output_cleaned = clean_text(output)
        answer_cleaned = clean_text(raw_answer)

        print(f"程式輸出:\n{output_cleaned}")
        if output_cleaned == answer_cleaned:
            print(f"{messages.name[i]} 成功")
        else:
            print(f"answer:\n{answer_cleaned}")
            print(f"{messages.name[i]} 失敗")

        inp = input("繼續請輸入t:")
        if inp != "t":
            print("\nend")
            break


if __name__ == "__main__":
    class clipboard:
        new_output_message = ""
        temp_output_message = ""
    class input_message:
        new_content = ""
        previous_content = ""
        last_record_time = ""
        show_all_session = "False"
    class messages:
        name = ["加法","減法","他人加法","他人減法","候補添加","候補刪去"]
        answer = ["""
❣️10/26(#週六)暢打團❣️
👉地點：動智AI羽球 竹科館
👉報名請留言 時段+1, 例如 A+1、B+2
👉未滿6人自動流團
👉費用含球 
👉程度：初中階～無限制
👉賽制：插拍排隊,雙打21分有Deuce.
👉場地數：每8人配置一面場地
🩷館方新推出百元暢打卷,買越多折扣越多
——————————————
A.時段(17:00~19:00)
$210，前五位$160
1.hsiang
2.hsiang 2
3.hsiang 3
4.
…
24.
——————————————
B.時段(19:00-22:00)
$300，前五位$250
1.
2.
3.
…
24.
——————————————
C.時段(22:00-24:00) 夜貓團
$210，前五位$160 ，球館提供每人1.5 顆球
（22:30 後櫃檯為無人自助時段）
1.
2.
3.
…
24.
——————————————""","""❣️10/26(#週六)暢打團❣️
👉地點：動智AI羽球 竹科館
👉報名請留言 時段+1, 例如 A+1、B+2
👉未滿6人自動流團
👉費用含球 
👉程度：初中階～無限制
👉賽制：插拍排隊,雙打21分有Deuce.
👉場地數：每8人配置一面場地
🩷館方新推出百元暢打卷,買越多折扣越多
——————————————
A.時段(17:00~19:00)
$210，前五位$160
1.
2.
3.
…
24.
——————————————
B.時段(19:00-22:00)
$300，前五位$250
1.
2.
3.
…
24.
——————————————
C.時段(22:00-24:00) 夜貓團
$210，前五位$160 ，球館提供每人1.5 顆球
（22:30 後櫃檯為無人自助時段）
1.
2.
3.
…
24.
——————————————""","""❣️10/26(#週六)暢打團❣️
👉地點：動智AI羽球 竹科館
👉報名請留言 時段+1, 例如 A+1、B+2
👉未滿6人自動流團
👉費用含球 
👉程度：初中階～無限制
👉賽制：插拍排隊,雙打21分有Deuce.
👉場地數：每8人配置一面場地
🩷館方新推出百元暢打卷,買越多折扣越多
——————————————
A.時段(17:00~19:00)
$210，前五位$160
1.test
2.test 2
3.test 3
4.
…
24.
——————————————
B.時段(19:00-22:00)
$300，前五位$250
1.
2.
3.
…
24.
——————————————
C.時段(22:00-24:00) 夜貓團
$210，前五位$160 ，球館提供每人1.5 顆球
（22:30 後櫃檯為無人自助時段）
1.
2.
3.
…
24.
——————————————""","""❣️10/26(#週六)暢打團❣️
👉地點：動智AI羽球 竹科館
👉報名請留言 時段+1, 例如 A+1、B+2  
👉未滿6人自動流團
👉費用含球 
👉程度：初中階～無限制
👉賽制：插拍排隊,雙打21分有Deuce.
👉場地數：每8人配置一面場地
🩷館方新推出百元暢打卷,買越多折扣越多
——————————————
A.時段(17:00~19:00)
$210，前五位$160
1.
2.
3.
…
24.
——————————————
B.時段(19:00-22:00)
$300，前五位$250
1.
2.
3.
…
24.
——————————————
C.時段(22:00-24:00) 夜貓團
$210，前五位$160 ，球館提供每人1.5 顆球
（22:30 後櫃檯為無人自助時段）
1.
2.
3.
…
24.
——————————————""","""❣️10/26(#週六)暢打團❣️
👉地點：動智AI羽球 竹科館
👉報名請留言 時段+1, 例如 A+1、B+2
👉未滿6人自動流團
👉費用含球 
👉程度：初中階～無限制
👉賽制：插拍排隊,雙打21分有Deuce.
👉場地數：每8人配置一面場地
🩷館方新推出百元暢打卷,買越多折扣越多
——————————————
A.時段(17:00~19:00)
$210，前五位$160
1.hsiang
2.hsiang 2
3.hsiang 3
4.hsiang 4
5.hsiang 5
6.hsiang 6
7.hsiang 7
8.hsiang 8
9.hsiang 9
10.hsiang 10
11.hsiang 11
12.hsiang 12
13.hsiang 13
14.hsiang 14
15.hsiang 15
16.hsiang 16
17.hsiang 17
18.hsiang 18
19.hsiang 19
20.hsiang 20
21.hsiang 21
22.hsiang 22
23.hsiang 23
24.hsiang 24
候補1.hsiang 25
候補2.hsiang 26
候補3.hsiang 27
候補4.hsiang 28
候補5.hsiang 29
候補6.hsiang 30
——————————————
B.時段(19:00-22:00)
$300，前五位$250
1.
2.
3.
…
24.
——————————————
C.時段(22:00-24:00) 夜貓團
$210，前五位$160 ，球館提供每人1.5 顆球
（22:30 後櫃檯為無人自助時段）
1.
2.
3.
…
24.
——————————————""","""❣️10/26(#週六)暢打團❣️
👉地點：動智AI羽球 竹科館
👉報名請留言 時段+1, 例如 A+1、B+2
👉未滿6人自動流團
👉費用含球 
👉程度：初中階～無限制
👉賽制：插拍排隊,雙打21分有Deuce.
👉場地數：每8人配置一面場地
🩷館方新推出百元暢打卷,買越多折扣越多
——————————————
A.時段(17:00~19:00)
$210，前五位$160
1.
2.
3.
…
24.
——————————————
B.時段(19:00-22:00)
$300，前五位$250
1.
2.
3.
…
24.
——————————————
C.時段(22:00-24:00) 夜貓團
$210，前五位$160 ，球館提供每人1.5 顆球
（22:30 後櫃檯為無人自助時段）
1.
2.
3.
…
24.
——————————————
"""]
        messages = ["""
❣️10/26(#週六)暢打團❣️
👉地點：動智AI羽球 竹科館
👉報名請留言 時段+1, 例如 A+1、B+2
👉未滿6人自動流團
👉費用含球 
👉程度：初中階～無限制
👉賽制：插拍排隊,雙打21分有Deuce.
👉場地數：每8人配置一面場地
🩷館方新推出百元暢打卷,買越多折扣越多
——————————————
A.時段(17:00~19:00)
$210，前五位$160
1.
2.
3.
…
24.
——————————————
B.時段(19:00-22:00)
$300，前五位$250
1.
2.
3.
…
24.
——————————————
C.時段(22:00-24:00) 夜貓團
$210，前五位$160 ，球館提供每人1.5 顆球
（22:30 後櫃檯為無人自助時段）
1.
2.
3.
…
24.
——————————————
13:55 hsiang A+3""","""❣️10/26(#週六)暢打團❣️
👉地點：動智AI羽球 竹科館
👉報名請留言 時段+1, 例如 A+1、B+2
👉未滿6人自動流團
👉費用含球 
👉程度：初中階～無限制
👉賽制：插拍排隊,雙打21分有Deuce.
👉場地數：每8人配置一面場地
🩷館方新推出百元暢打卷,買越多折扣越多
——————————————
A.時段(17:00~19:00)
$210，前五位$160
1.hsiang
2.hsiang 2
3.hsiang 3
…
24.
——————————————
B.時段(19:00-22:00)
$300，前五位$250
1.
2.
3.
…
24.
——————————————
C.時段(22:00-24:00) 夜貓團
$210，前五位$160 ，球館提供每人1.5 顆球
（22:30 後櫃檯為無人自助時段）
1.
2.
3.
…
24.
——————————————
13:55 hsiang A-3""","""❣️10/26(#週六)暢打團❣️
👉地點：動智AI羽球 竹科館
👉報名請留言 時段+1, 例如 A+1、B+2
👉未滿6人自動流團
👉費用含球 
👉程度：初中階～無限制
👉賽制：插拍排隊,雙打21分有Deuce.
👉場地數：每8人配置一面場地
🩷館方新推出百元暢打卷,買越多折扣越多
——————————————
A.時段(17:00~19:00)
$210，前五位$160
1.
2.
3.
…
24.
——————————————
B.時段(19:00-22:00)
$300，前五位$250
1.
2.
3.
…
24.
——————————————
C.時段(22:00-24:00) 夜貓團
$210，前五位$160 ，球館提供每人1.5 顆球
（22:30 後櫃檯為無人自助時段）
1.
2.
3.
…
24.
——————————————
13:55 hsiang A+3 test""","""❣️10/26(#週六)暢打團❣️
👉地點：動智AI羽球 竹科館
👉報名請留言 時段+1, 例如 A+1、B+2
👉未滿6人自動流團
👉費用含球 
👉程度：初中階～無限制
👉賽制：插拍排隊,雙打21分有Deuce.
👉場地數：每8人配置一面場地
🩷館方新推出百元暢打卷,買越多折扣越多
——————————————
A.時段(17:00~19:00)
$210，前五位$160
1.test
2.test 2
3.test 3
…
24.
——————————————
B.時段(19:00-22:00)
$300，前五位$250
1.
2.
3.
…
24.
——————————————
C.時段(22:00-24:00) 夜貓團
$210，前五位$160 ，球館提供每人1.5 顆球
（22:30 後櫃檯為無人自助時段）
1.
2.
3.
…
24.
——————————————
13:55 hsiang A-3 test""","""❣️10/26(#週六)暢打團❣️
👉地點：動智AI羽球 竹科館
👉報名請留言 時段+1, 例如 A+1、B+2
👉未滿6人自動流團
👉費用含球 
👉程度：初中階～無限制
👉賽制：插拍排隊,雙打21分有Deuce.
👉場地數：每8人配置一面場地
🩷館方新推出百元暢打卷,買越多折扣越多
——————————————
A.時段(17:00~19:00)
$210，前五位$160
1.
2.
3.
…
24.
——————————————
B.時段(19:00-22:00)
$300，前五位$250
1.
2.
3.
…
24.
——————————————
C.時段(22:00-24:00) 夜貓團
$210，前五位$160 ，球館提供每人1.5 顆球
（22:30 後櫃檯為無人自助時段）
1.
2.
3.
…
24.
——————————————
13:55 hsiang A+30""","""❣️10/26(#週六)暢打團❣️
👉地點：動智AI羽球 竹科館
👉報名請留言 時段+1, 例如 A+1、B+2
👉未滿6人自動流團
👉費用含球 
👉程度：初中階～無限制
👉賽制：插拍排隊,雙打21分有Deuce.
👉場地數：每8人配置一面場地
🩷館方新推出百元暢打卷,買越多折扣越多
——————————————
A.時段(17:00~19:00)
$210，前五位$160
1.hsiang
2.hsiang 2
3.hsiang 3
4.hsiang 4
5.hsiang 5
6.hsiang 6
7.hsiang 7
8.hsiang 8
9.hsiang 9
10.hsiang 10
11.hsiang 11
12.hsiang 12
13.hsiang 13
14.hsiang 14
15.hsiang 15
16.hsiang 16
17.hsiang 17
18.hsiang 18
19.hsiang 19
20.hsiang 20
21.hsiang 21
22.hsiang 22
23.hsiang 23
24.hsiang 24
候補1.hsiang 25
候補2.hsiang 26
候補3.hsiang 27
候補4.hsiang 28
候補5.hsiang 29
候補6.hsiang 30
——————————————
B.時段(19:00-22:00)
$300，前五位$250
1.
2.
3.
…
24.
——————————————
C.時段(22:00-24:00) 夜貓團
$210，前五位$160 ，球館提供每人1.5 顆球
（22:30 後櫃檯為無人自助時段）
1.
2.
3.
…
24.
——————————————
13:55 hsiang A-30"""]
    
    test()